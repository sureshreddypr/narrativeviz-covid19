(function (d3, topojson) {
  'use strict';

  const loadAndProcessData = () => 
  	Promise
  	.all([d3.csv('/sureshreddypr.github.io/narrativeviz-covid19/covid19_full_data_jul272020.csv'),
        d3.json('https://unpkg.com/visionscarto-world-atlas@0.0.4/world/50m.json')])
    .then( ([unData, topoJSONdata]) => {
      // console.log(unData);
    	const rowById = unData.reduce((accumulator, d) => {
      	accumulator[d['Country code']] = d;
        return accumulator;
      }, {});
      const countries = topojson.feature(topoJSONdata, 
                                topoJSONdata.objects.countries);


    	// Use another foreach function to map 
      // each country's data into d.properties, 
      // where d is an individual "country feature".
    	countries.features.forEach(d => {
      	Object.assign(d.properties, rowById[+d.id]);
      });
      
      const featuresWithPopulation = countries.features
      	.filter(d => d.properties['2018'])
        .map(d => {
          d.properties['2018'] = +d.properties['2018'].replace(/ /g, '') * 1000;
          return d;
        });
      
      return {
        features: countries.features, 
        featuresWithPopulation
      };
    });

  const sizeLegend = (selection, props) => {
    
    const { sizeScale, spacing, textOffset, numTicks, populationFormat } = props;
    // This is just the update selection.
    
    const ticks = sizeScale.ticks(numTicks).filter(d => d !== 0);
    const groups = selection.selectAll('g').data(ticks);
    
    const groupsEnter = groups.enter().append('g')
    	.attr('class', 'ticks'); 
    
    groupsEnter
      .merge(groups)
      	.attr('transform', (d, i) => `translate(0, ${i * spacing})`);
    groups.exit().remove();
    
    groupsEnter.append('circle')
    		// .attr('cx', xPosition)
    		// .attr('cy', height/2)
    	.merge(groups.select('circle'))
        .attr('r', sizeScale);
    
    groupsEnter.append('text')
    		// .attr('cx', xPosition)
    		// .attr('cy', height/2)
    	.merge(groups.select('text'))
        .text(d => populationFormat(d))
    		.attr('x', textOffset)
    		.attr('dy', '0.32em');
  };

  const svg = d3.select('svg');

  const projection = d3.geoNaturalEarth1();
  const pathGenerator = d3.geoPath().projection(projection);

  const g = svg.append('g');

  g.append('path')
  	.attr('class', 'sphere')
  	.attr('d', pathGenerator({type: 'Sphere'}));

  svg.call(d3.zoom().on('zoom', () => {
  	g.attr('transform', d3.event.transform);
  }));

  const radiusValue = d => d.properties['2018'];
  const populationFormat = d3.format(',');

  loadAndProcessData().then(countries => {
    
    const sizeScale = d3.scaleSqrt();

    sizeScale
      .domain([0, d3.max(countries.features, radiusValue)])
    	.range([0, 23]);
    
    g.append('g')
      .attr('transform', `translate(50, 280)`)
      .call(sizeLegend, {
        sizeScale, 
        spacing: 30,
        textOffset: 25,
        numTicks: 5,
      	populationFormat: d3.format(',')
    })
    .append('text')
      .attr('class', 'legend-title')
      .text('Scale (population)')
      .attr('y', -30)
      .attr('x', -15);
    
    g.selectAll('.legend-rect').data([null])
    	.enter().append('rect')
    		.attr('class', '.legend-rect')
    		.attr('height', 265)
    		.attr('width', 137)
    		.attr('opacity', 0.3)
    		.attr('y', 225)
    		.attr('x', 20)
    		.attr('rx', 20);
    
  	g.selectAll('path')
      .data(countries.features)
      .enter().append('path')
        .attr('class', 'country')
        .attr('d', pathGenerator)
        .attr('fill', d => d.properties['2018'] ? '#b59d70' : '#b34f44')
      .append('title')
        .text(d => isNaN(radiusValue(d)) 
                ? 'missing' 
                : [d.properties['Region, subregion, country or area *'], 
                      populationFormat(radiusValue(d))
                     ].join(': '));
    
    countries.featuresWithPopulation.forEach(d => {
    	d.properties.projected = projection(d3.geoCentroid(d));
    });
      
    g.selectAll('circle')
      .data(countries.featuresWithPopulation)
      .enter().append('circle')
    		.attr('class', 'country-circle')
    		.attr('cx', d => d.properties.projected[0])
        .attr('cy', d => d.properties.projected[1])
    		.attr('r', d => sizeScale(radiusValue(d)));

  });

}(d3, topojson));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbImxvYWRBbmRQcm9jZXNzRGF0YS5qcyIsInNpemVMZWdlbmQuanMiLCJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmZWF0dXJlIH0gZnJvbSAndG9wb2pzb24nXG5pbXBvcnQgeyBjc3YsIGpzb24gfSBmcm9tICdkMydcblxuZXhwb3J0IGNvbnN0IGxvYWRBbmRQcm9jZXNzRGF0YSA9ICgpID0+IFxuXHRQcm9taXNlXG5cdC5hbGwoW2NzdignaHR0cHM6Ly92aXpodWIuY29tL2N1cnJhbi9kYXRhc2V0cy91bi1wb3B1bGF0aW9uLWVzdGltYXRlcy0yMDE3LW1lZGl1bS12YXJpYW50LmNzdicpLFxuICAgICAganNvbignaHR0cHM6Ly91bnBrZy5jb20vdmlzaW9uc2NhcnRvLXdvcmxkLWF0bGFzQDAuMC40L3dvcmxkLzUwbS5qc29uJyldKVxuICAudGhlbiggKFt1bkRhdGEsIHRvcG9KU09OZGF0YV0pID0+IHtcbiAgICAvLyBjb25zb2xlLmxvZyh1bkRhdGEpO1xuICBcdGNvbnN0IHJvd0J5SWQgPSB1bkRhdGEucmVkdWNlKChhY2N1bXVsYXRvciwgZCkgPT4ge1xuICAgIFx0YWNjdW11bGF0b3JbZFsnQ291bnRyeSBjb2RlJ11dID0gZDtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9LCB7fSlcbiAgICBjb25zdCBjb3VudHJpZXMgPSBmZWF0dXJlKHRvcG9KU09OZGF0YSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BvSlNPTmRhdGEub2JqZWN0cy5jb3VudHJpZXMpO1xuXG5cbiAgXHQvLyBVc2UgYW5vdGhlciBmb3JlYWNoIGZ1bmN0aW9uIHRvIG1hcCBcbiAgICAvLyBlYWNoIGNvdW50cnkncyBkYXRhIGludG8gZC5wcm9wZXJ0aWVzLCBcbiAgICAvLyB3aGVyZSBkIGlzIGFuIGluZGl2aWR1YWwgXCJjb3VudHJ5IGZlYXR1cmVcIi5cbiAgXHRjb3VudHJpZXMuZmVhdHVyZXMuZm9yRWFjaChkID0+IHtcbiAgICBcdE9iamVjdC5hc3NpZ24oZC5wcm9wZXJ0aWVzLCByb3dCeUlkWytkLmlkXSk7XG4gICAgfSlcbiAgICBcbiAgICBjb25zdCBmZWF0dXJlc1dpdGhQb3B1bGF0aW9uID0gY291bnRyaWVzLmZlYXR1cmVzXG4gICAgXHQuZmlsdGVyKGQgPT4gZC5wcm9wZXJ0aWVzWycyMDE4J10pXG4gICAgICAubWFwKGQgPT4ge1xuICAgICAgICBkLnByb3BlcnRpZXNbJzIwMTgnXSA9ICtkLnByb3BlcnRpZXNbJzIwMTgnXS5yZXBsYWNlKC8gL2csICcnKSAqIDEwMDA7XG4gICAgICAgIHJldHVybiBkO1xuICAgICAgfSlcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgZmVhdHVyZXM6IGNvdW50cmllcy5mZWF0dXJlcywgXG4gICAgICBmZWF0dXJlc1dpdGhQb3B1bGF0aW9uXG4gICAgfTtcbiAgfSk7XG4iLCJleHBvcnQgY29uc3Qgc2l6ZUxlZ2VuZCA9IChzZWxlY3Rpb24sIHByb3BzKSA9PiB7XG4gIFxuICBjb25zdCB7IHNpemVTY2FsZSwgc3BhY2luZywgdGV4dE9mZnNldCwgbnVtVGlja3MsIHBvcHVsYXRpb25Gb3JtYXQgfSA9IHByb3BzO1xuICAvLyBUaGlzIGlzIGp1c3QgdGhlIHVwZGF0ZSBzZWxlY3Rpb24uXG4gIFxuICBjb25zdCB0aWNrcyA9IHNpemVTY2FsZS50aWNrcyhudW1UaWNrcykuZmlsdGVyKGQgPT4gZCAhPT0gMCk7XG4gIGNvbnN0IGdyb3VwcyA9IHNlbGVjdGlvbi5zZWxlY3RBbGwoJ2cnKS5kYXRhKHRpY2tzKTtcbiAgXG4gIGNvbnN0IGdyb3Vwc0VudGVyID0gZ3JvdXBzLmVudGVyKCkuYXBwZW5kKCdnJylcbiAgXHQuYXR0cignY2xhc3MnLCAndGlja3MnKTsgXG4gIFxuICBncm91cHNFbnRlclxuICAgIC5tZXJnZShncm91cHMpXG4gICAgXHQuYXR0cigndHJhbnNmb3JtJywgKGQsIGkpID0+IGB0cmFuc2xhdGUoMCwgJHtpICogc3BhY2luZ30pYCk7XG4gIGdyb3Vwcy5leGl0KCkucmVtb3ZlKCk7XG4gIFxuICBncm91cHNFbnRlci5hcHBlbmQoJ2NpcmNsZScpXG4gIFx0XHQvLyAuYXR0cignY3gnLCB4UG9zaXRpb24pXG4gIFx0XHQvLyAuYXR0cignY3knLCBoZWlnaHQvMilcbiAgXHQubWVyZ2UoZ3JvdXBzLnNlbGVjdCgnY2lyY2xlJykpXG4gICAgICAuYXR0cigncicsIHNpemVTY2FsZSk7XG4gIFxuICBncm91cHNFbnRlci5hcHBlbmQoJ3RleHQnKVxuICBcdFx0Ly8gLmF0dHIoJ2N4JywgeFBvc2l0aW9uKVxuICBcdFx0Ly8gLmF0dHIoJ2N5JywgaGVpZ2h0LzIpXG4gIFx0Lm1lcmdlKGdyb3Vwcy5zZWxlY3QoJ3RleHQnKSlcbiAgICAgIC50ZXh0KGQgPT4gcG9wdWxhdGlvbkZvcm1hdChkKSlcbiAgXHRcdC5hdHRyKCd4JywgdGV4dE9mZnNldClcbiAgXHRcdC5hdHRyKCdkeScsICcwLjMyZW0nKTtcbn07XG4iLCJpbXBvcnQgeyBzZWxlY3QsIFxuICAgICAgICBqc29uLCBcbiAgICAgICAgZ2VvUGF0aCwgXG4gICAgICAgIGdlb05hdHVyYWxFYXJ0aDEsIFxuICAgICAgICBnZW9DZW50cm9pZCxcbiAgICAgICAgem9vbSwgXG4gICAgICAgIGV2ZW50LFxuICAgICAgICBzY2FsZU9yZGluYWwsXG4gICAgICAgIHNjaGVtZVNwZWN0cmFsLFxuICAgICAgIFx0c2NhbGVTcXJ0LFxuICAgICAgIFx0bWF4LFxuICAgICAgICBmb3JtYXQgfSBmcm9tICdkMyc7XG5pbXBvcnQgeyBsb2FkQW5kUHJvY2Vzc0RhdGEgfSBmcm9tICcuL2xvYWRBbmRQcm9jZXNzRGF0YSdcbmltcG9ydCB7IHNpemVMZWdlbmQgfSBmcm9tICcuL3NpemVMZWdlbmQnXG5cbmNvbnN0IHN2ZyA9IHNlbGVjdCgnc3ZnJyk7XG5cbmNvbnN0IHByb2plY3Rpb24gPSBnZW9OYXR1cmFsRWFydGgxKCk7XG5jb25zdCBwYXRoR2VuZXJhdG9yID0gZ2VvUGF0aCgpLnByb2plY3Rpb24ocHJvamVjdGlvbilcblxuY29uc3QgZyA9IHN2Zy5hcHBlbmQoJ2cnKVxuXG5nLmFwcGVuZCgncGF0aCcpXG5cdC5hdHRyKCdjbGFzcycsICdzcGhlcmUnKVxuXHQuYXR0cignZCcsIHBhdGhHZW5lcmF0b3Ioe3R5cGU6ICdTcGhlcmUnfSkpXG5cbnN2Zy5jYWxsKHpvb20oKS5vbignem9vbScsICgpID0+IHtcblx0Zy5hdHRyKCd0cmFuc2Zvcm0nLCBldmVudC50cmFuc2Zvcm0pXG59KSlcblxuY29uc3QgcmFkaXVzVmFsdWUgPSBkID0+IGQucHJvcGVydGllc1snMjAxOCddO1xuY29uc3QgcG9wdWxhdGlvbkZvcm1hdCA9IGZvcm1hdCgnLCcpO1xuXG5sb2FkQW5kUHJvY2Vzc0RhdGEoKS50aGVuKGNvdW50cmllcyA9PiB7XG4gIFxuICBjb25zdCBzaXplU2NhbGUgPSBzY2FsZVNxcnQoKTtcblxuICBzaXplU2NhbGVcbiAgICAuZG9tYWluKFswLCBtYXgoY291bnRyaWVzLmZlYXR1cmVzLCByYWRpdXNWYWx1ZSldKVxuICBcdC5yYW5nZShbMCwgMjNdKVxuICBcbiAgZy5hcHBlbmQoJ2cnKVxuICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKDUwLCAyODApYClcbiAgICAuY2FsbChzaXplTGVnZW5kLCB7XG4gICAgICBzaXplU2NhbGUsIFxuICAgICAgc3BhY2luZzogMzAsXG4gICAgICB0ZXh0T2Zmc2V0OiAyNSxcbiAgICAgIG51bVRpY2tzOiA1LFxuICAgIFx0cG9wdWxhdGlvbkZvcm1hdDogZm9ybWF0KCcsJylcbiAgfSlcbiAgLmFwcGVuZCgndGV4dCcpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ2xlZ2VuZC10aXRsZScpXG4gICAgLnRleHQoJ1NjYWxlIChwb3B1bGF0aW9uKScpXG4gICAgLmF0dHIoJ3knLCAtMzApXG4gICAgLmF0dHIoJ3gnLCAtMTUpO1xuICBcbiAgZy5zZWxlY3RBbGwoJy5sZWdlbmQtcmVjdCcpLmRhdGEoW251bGxdKVxuICBcdC5lbnRlcigpLmFwcGVuZCgncmVjdCcpXG4gIFx0XHQuYXR0cignY2xhc3MnLCAnLmxlZ2VuZC1yZWN0JylcbiAgXHRcdC5hdHRyKCdoZWlnaHQnLCAyNjUpXG4gIFx0XHQuYXR0cignd2lkdGgnLCAxMzcpXG4gIFx0XHQuYXR0cignb3BhY2l0eScsIDAuMylcbiAgXHRcdC5hdHRyKCd5JywgMjI1KVxuICBcdFx0LmF0dHIoJ3gnLCAyMClcbiAgXHRcdC5hdHRyKCdyeCcsIDIwKVxuICBcblx0Zy5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgIC5kYXRhKGNvdW50cmllcy5mZWF0dXJlcylcbiAgICAuZW50ZXIoKS5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2NsYXNzJywgJ2NvdW50cnknKVxuICAgICAgLmF0dHIoJ2QnLCBwYXRoR2VuZXJhdG9yKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCBkID0+IGQucHJvcGVydGllc1snMjAxOCddID8gJyNiNTlkNzAnIDogJyNiMzRmNDQnKVxuICAgIC5hcHBlbmQoJ3RpdGxlJylcbiAgICAgIC50ZXh0KGQgPT4gaXNOYU4ocmFkaXVzVmFsdWUoZCkpIFxuICAgICAgICAgICAgICA/ICdtaXNzaW5nJyBcbiAgICAgICAgICAgICAgOiBbZC5wcm9wZXJ0aWVzWydSZWdpb24sIHN1YnJlZ2lvbiwgY291bnRyeSBvciBhcmVhIConXSwgXG4gICAgICAgICAgICAgICAgICAgIHBvcHVsYXRpb25Gb3JtYXQocmFkaXVzVmFsdWUoZCkpXG4gICAgICAgICAgICAgICAgICAgXS5qb2luKCc6ICcpKVxuICBcbiAgY291bnRyaWVzLmZlYXR1cmVzV2l0aFBvcHVsYXRpb24uZm9yRWFjaChkID0+IHtcbiAgXHRkLnByb3BlcnRpZXMucHJvamVjdGVkID0gcHJvamVjdGlvbihnZW9DZW50cm9pZChkKSk7XG4gIH0pXG4gICAgXG4gIGcuc2VsZWN0QWxsKCdjaXJjbGUnKVxuICAgIC5kYXRhKGNvdW50cmllcy5mZWF0dXJlc1dpdGhQb3B1bGF0aW9uKVxuICAgIC5lbnRlcigpLmFwcGVuZCgnY2lyY2xlJylcbiAgXHRcdC5hdHRyKCdjbGFzcycsICdjb3VudHJ5LWNpcmNsZScpXG4gIFx0XHQuYXR0cignY3gnLCBkID0+IGQucHJvcGVydGllcy5wcm9qZWN0ZWRbMF0pXG4gICAgICAuYXR0cignY3knLCBkID0+IGQucHJvcGVydGllcy5wcm9qZWN0ZWRbMV0pXG4gIFx0XHQuYXR0cigncicsIGQgPT4gc2l6ZVNjYWxlKHJhZGl1c1ZhbHVlKGQpKSlcblxufSlcbiJdLCJuYW1lcyI6WyJjc3YiLCJqc29uIiwiZmVhdHVyZSIsInNlbGVjdCIsImdlb05hdHVyYWxFYXJ0aDEiLCJnZW9QYXRoIiwiem9vbSIsImV2ZW50IiwiZm9ybWF0Iiwic2NhbGVTcXJ0IiwibWF4IiwiZ2VvQ2VudHJvaWQiXSwibWFwcGluZ3MiOiI7OztFQUdPLE1BQU0sa0JBQWtCLEdBQUc7RUFDbEMsQ0FBQyxPQUFPO0VBQ1IsRUFBRSxHQUFHLENBQUMsQ0FBQ0EsTUFBRyxDQUFDLG9GQUFvRixDQUFDO0VBQ2hHLE1BQU1DLE9BQUksQ0FBQyxpRUFBaUUsQ0FBQyxDQUFDLENBQUM7RUFDL0UsR0FBRyxJQUFJLEVBQUUsQ0FBQyxDQUFDLE1BQU0sRUFBRSxZQUFZLENBQUMsS0FBSztFQUNyQztFQUNBLEdBQUcsTUFBTSxPQUFPLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUs7RUFDckQsS0FBSyxXQUFXLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0VBQ3hDLE1BQU0sT0FBTyxXQUFXLENBQUM7RUFDekIsS0FBSyxFQUFFLEVBQUUsRUFBQztFQUNWLElBQUksTUFBTSxTQUFTLEdBQUdDLGdCQUFPLENBQUMsWUFBWTtFQUMxQyw4QkFBOEIsWUFBWSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUM5RDtBQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0EsR0FBRyxTQUFTLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElB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
